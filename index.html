<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>VIS 2026 ‚Äì Clubs formateurs</title>

<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
}
header{
  text-align:center;
  padding:60px 20px;
}
section{
  background:rgba(255,255,255,0.05);
  margin:40px auto;
  padding:30px;
  max-width:1100px;
  border-radius:16px;
  box-shadow:0 8px 20px rgba(0,0,0,0.4);
}
h2{
  text-align:center;
  color:#ffcc80;
}
.chart{
  background:white;
  padding:15px;
  border-radius:12px;
}
footer{
  text-align:center;
  padding:20px;
  color:#ccc;
}
</style>
</head>

<body>

<header>
  <h1>Clubs formateurs de football</h1>
  <p>
    Mise √† jour du projet VIS 2026 avec des visualisations interactives de donn√©es,
    de textes et d‚Äôimages.
  </p>
</header>

<!-- 1. VISUALISATION PRINCIPALE -->
<section>
  <h2>üìä Visualisation interactive des clubs (Vega-Lite)</h2>
  <div id="chart" class="chart"></div>
</section>

<!-- 2. VISUALISATION INTERACTIVE DE TEXTES -->
<section>
  <h2>üìù Visualisation interactive de textes</h2>
  <p style="text-align:center;">
    Exemple de fr√©quence de mots li√©s au football.
  </p>
  <div id="textChart" class="chart"></div>
</section>

<!-- 3. VISUALISATION INTERACTIVE D‚ÄôIMAGES -->
<section>
  <h2>üñº Visualisation interactive d‚Äôimages</h2>
  <p style="text-align:center;">
    Logos de clubs utilis√©s comme donn√©es visuelles interactives.
  </p>
  <div id="imageChart" class="chart"></div>
</section>

<footer>
  Projet VIS 2026 ‚Äì Data Visualization & Wikidata
</footer>

<script>
// =====================================================
// 1. Graphique principal (Wikidata)
// =====================================================
const spec = {
  "$schema":"https://vega.github.io/schema/vega-lite/v5.json",
  "data":{
    "url":"https://query.wikidata.org/sparql?query=SELECT%20%3FclubLabel%20%3FcountryLabel%20(COUNT(DISTINCT%20%3Fplayer)%20AS%20%3FplayersCount)%20WHERE%20%7B%20%3Fplayer%20wdt%3AP106%20wd%3AQ937857%3B%20wdt%3AP54%20%3Fclub.%20%3Fclub%20wdt%3AP31%20wd%3AQ476028%3B%20wdt%3AP17%20%3Fcountry.%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22fr%22.%20%7D%20%7D%20GROUP%20BY%20%3FclubLabel%20%3FcountryLabel%20ORDER%20BY%20DESC(%3FplayersCount)%20LIMIT%2010",
    "format":{"type":"json","property":"results.bindings"}
  },
  "transform":[
    {"calculate":"toNumber(datum.playersCount.value)","as":"players"}
  ],
  "mark":"bar",
  "encoding":{
    "x":{
      "field":"clubLabel.value",
      "type":"nominal",
      "sort":"-y",
      "axis":{"labelAngle":-30},
      "title":"Club"
    },
    "y":{
      "field":"players",
      "type":"quantitative",
      "title":"Nombre de joueurs form√©s"
    },
    "color":{
      "field":"countryLabel.value",
      "type":"nominal",
      "title":"Pays"
    },
    "tooltip":[
      {"field":"clubLabel.value","type":"nominal","title":"Club"},
      {"field":"countryLabel.value","type":"nominal","title":"Pays"},
      {"field":"players","type":"quantitative","title":"Joueurs"}
    ]
  }
};

vegaEmbed("#chart", spec, {actions:false});

// =====================================================
// 2. Visualisation interactive de textes
// =====================================================
const textSpec = {
  "$schema":"https://vega.github.io/schema/vega-lite/v5.json",
  "data":{
    "values":[
      {"mot":"Football","freq":40},
      {"mot":"Club","freq":32},
      {"mot":"Formation","freq":25},
      {"mot":"Joueur","freq":37},
      {"mot":"Donn√©es","freq":20}
    ]
  },
  "mark":"bar",
  "encoding":{
    "x":{"field":"mot","type":"nominal","title":"Mot"},
    "y":{"field":"freq","type":"quantitative","title":"Fr√©quence"},
    "tooltip":[
      {"field":"mot","type":"nominal","title":"Mot"},
      {"field":"freq","type":"quantitative","title":"Fr√©quence"}
    ]
  }
};

vegaEmbed("#textChart", textSpec, {actions:false});

// =====================================================
// 3. Visualisation interactive d‚Äôimages
// =====================================================
const imageSpec = {
  "$schema":"https://vega.github.io/schema/vega-lite/v5.json",
  "data":{
    "values":[
      {
        "club":"FC Barcelone",
        "img":"https://upload.wikimedia.org/wikipedia/fr/a/a1/FC_Barcelona_logo.svg"
      },
      {
        "club":"Ajax",
        "img":"https://upload.wikimedia.org/wikipedia/en/7/79/Ajax_Amsterdam.svg"
      },
      {
        "club":"Benfica",
        "img":"https://upload.wikimedia.org/wikipedia/en/a/a2/SL_Benfica_logo.svg"
      }
    ]
  },
  "mark":{
    "type":"image",
    "width":80,
    "height":80
  },
  "encoding":{
    "x":{
      "field":"club",
      "type":"nominal",
      "title":"Clubs"
    },
    "url":{
      "field":"img",
      "type":"nominal"
    },
    "tooltip":[
      {"field":"club","type":"nominal","title":"Club"}
    ]
  }
};

vegaEmbed("#imageChart", imageSpec, {actions:false});
</script>

</body>
</html>
