<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football Analytics Dashboard | VIS 2026</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 40px 20px 60px;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 3.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            letter-spacing: -1px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #94a3b8;
            font-weight: 300;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 35px;
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 48px rgba(96, 165, 250, 0.15);
            border-color: rgba(96, 165, 250, 0.3);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 25px;
        }

        .card-icon {
            font-size: 1.8rem;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #fbbf24;
        }

        .viz-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            min-height: 550px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        /* WORD CLOUD STYLES */
        #wordCloudContainer {
            width: 100%;
            height: 500px;
            position: relative;
            overflow: hidden;
        }

        .word {
            position: absolute;
            font-family: 'Inter', sans-serif;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .word:hover {
            transform: scale(1.15);
            z-index: 10;
            filter: brightness(1.2);
        }

        /* IMAGE GALLERY STYLES */
        .clubs-gallery {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 40px;
            width: 100%;
            padding: 20px;
        }

        .club-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .club-item:hover {
            transform: translateY(-10px);
        }

        .club-logo-container {
            width: 140px;
            height: 140px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 50%;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .club-item:hover .club-logo-container {
            box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);
            transform: scale(1.05);
        }

        .club-logo {
            width: 100px;
            height: 100px;
            object-fit: contain;
        }

        .club-name {
            font-size: 16px;
            font-weight: 700;
            color: #1e293b;
            text-align: center;
        }

        .club-info {
            font-size: 13px;
            color: #64748b;
            text-align: center;
        }

        footer {
            text-align: center;
            padding: 50px 20px;
            color: #64748b;
            font-size: 0.95rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 40px;
        }

        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .card {
                padding: 20px;
            }

            .viz-container {
                padding: 15px;
                min-height: 400px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>‚öΩ Football Analytics Dashboard</h1>
            <p class="subtitle">Visualisation Interactive des Donn√©es Footballistiques - VIS 2026</p>
        </header>

        <div class="dashboard-grid">
            <!-- Card 1: RAWGraphs Style Bar Chart -->
            <div class="card full-width">
                <div class="card-header">
                    <span class="card-icon">üìä</span>
                    <h2 class="card-title">Distribution des Joueurs par Club (Style RAWGraphs)</h2>
                </div>
                <div class="viz-container" id="rawgraphsChart"></div>
            </div>

            <!-- Card 2: Word Cloud -->
            <div class="card">
                <div class="card-header">
                    <span class="card-icon">‚òÅÔ∏è</span>
                    <h2 class="card-title">Nuage de Mots - Univers Football</h2>
                </div>
                <div class="viz-container">
                    <div id="wordCloudContainer"></div>
                </div>
            </div>

            <!-- Card 3: Lexical Analysis -->
            <div class="card">
                <div class="card-header">
                    <span class="card-icon">üìà</span>
                    <h2 class="card-title">Analyse Lexicale Avanc√©e</h2>
                </div>
                <div class="viz-container" id="lexicalChart"></div>
            </div>

            <!-- Card 4: Image Gallery -->
            <div class="card full-width">
                <div class="card-header">
                    <span class="card-icon">üñºÔ∏è</span>
                    <h2 class="card-title">Galerie des Clubs Prestigieux</h2>
                </div>
                <div class="viz-container">
                    <div class="clubs-gallery" id="clubsGallery">
                        <!-- Les logos seront ajout√©s dynamiquement ici -->
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>‚öΩ Football Analytics Dashboard ¬© 2026 | Visualisation de donn√©es avec Vega-Lite</p>
            <p style="margin-top: 10px; font-size: 0.85rem;">Donn√©es provenant de sources multiples (Wikidata, RAWGraphs, Analyse Textuelle)</p>
        </footer>
    </div>

    <script>
        const embedOptions = {
            actions: { export: true, source: false, compiled: false, editor: false },
            theme: 'latimes'
        };

        // ===== 1. RAWGRAPHS STYLE BAR CHART =====
        const rawgraphsSpec = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "width": 1400,
            "height": 450,
            "data": {
                "values": [
                    {"club": "AC Milan", "joueurs": 1200, "categorie": "Elite"},
                    {"club": "Ajax", "joueurs": 2100, "categorie": "Elite"},
                    {"club": "Arsenal", "joueurs": 1100, "categorie": "Top"},
                    {"club": "Atl√©tico Madrid", "joueurs": 1050, "categorie": "Top"},
                    {"club": "Barcelona", "joueurs": 1350, "categorie": "Elite"},
                    {"club": "Bayern Munich", "joueurs": 1150, "categorie": "Elite"},
                    {"club": "Benfica", "joueurs": 1300, "categorie": "Elite"},
                    {"club": "Borussia Dortmund", "joueurs": 1200, "categorie": "Top"},
                    {"club": "Chelsea", "joueurs": 1100, "categorie": "Top"},
                    {"club": "Inter Milan", "joueurs": 1050, "categorie": "Top"},
                    {"club": "Juventus", "joueurs": 1400, "categorie": "Elite"},
                    {"club": "Liverpool", "joueurs": 1250, "categorie": "Elite"},
                    {"club": "Manchester City", "joueurs": 1050, "categorie": "Top"},
                    {"club": "Manchester United", "joueurs": 1100, "categorie": "Top"},
                    {"club": "Paris SG", "joueurs": 1000, "categorie": "Special"},
                    {"club": "Real Madrid", "joueurs": 2050, "categorie": "Elite"},
                    {"club": "Roma", "joueurs": 1050, "categorie": "Top"},
                    {"club": "Sevilla", "joueurs": 1200, "categorie": "Elite"},
                    {"club": "Sporting", "joueurs": 1300, "categorie": "Elite"},
                    {"club": "Tottenham", "joueurs": 1050, "categorie": "Top"},
                    {"club": "Valencia", "joueurs": 1250, "categorie": "Elite"},
                    {"club": "Napoli", "joueurs": 1100, "categorie": "Top"},
                    {"club": "Porto", "joueurs": 1300, "categorie": "Elite"},
                    {"club": "Lyon", "joueurs": 1150, "categorie": "Elite"},
                    {"club": "Marseille", "joueurs": 1050, "categorie": "Top"},
                    {"club": "Monaco", "joueurs": 1000, "categorie": "Top"},
                    {"club": "PSV", "joueurs": 1100, "categorie": "Top"},
                    {"club": "Feyenoord", "joueurs": 1050, "categorie": "Top"},
                    {"club": "Celtic", "joueurs": 1000, "categorie": "Top"},
                    {"club": "Rangers", "joueurs": 1050, "categorie": "Top"}
                ]
            },
            "mark": {
                "type": "bar",
                "cornerRadiusEnd": 3,
                "width": {"band": 0.7}
            },
            "encoding": {
                "x": {
                    "field": "club",
                    "type": "nominal",
                    "sort": null,
                    "axis": {
                        "labelAngle": -45,
                        "labelFontSize": 10,
                        "title": null
                    }
                },
                "y": {
                    "field": "joueurs",
                    "type": "quantitative",
                    "title": "Nombre de joueurs",
                    "axis": {
                        "grid": true,
                        "gridOpacity": 0.3
                    },
                    "scale": {"domain": [0, 2500]}
                },
                "color": {
                    "field": "categorie",
                    "type": "nominal",
                    "scale": {
                        "domain": ["Elite", "Top", "Special"],
                        "range": ["#ff8c42", "#4ade80", "#3b82f6"]
                    },
                    "legend": {
                        "title": "Cat√©gorie",
                        "orient": "top-right"
                    }
                },
                "tooltip": [
                    {"field": "club", "type": "nominal", "title": "Club"},
                    {"field": "joueurs", "type": "quantitative", "title": "Joueurs"},
                    {"field": "categorie", "type": "nominal", "title": "Cat√©gorie"}
                ]
            }
        };

        // ===== 2. BEAUTIFUL WORD CLOUD =====
        const words = [
            {text: 'Football', size: 72, color: '#ef4444', x: 280, y: 120},
            {text: 'UEFA', size: 58, color: '#f59e0b', x: 150, y: 250},
            {text: 'Champions League', size: 48, color: '#10b981', x: 320, y: 320, rotate: true},
            {text: 'Ballon d\'Or', size: 54, color: '#3b82f6', x: 180, y: 350},
            {text: 'Transfert', size: 42, color: '#8b5cf6', x: 450, y: 200},
            {text: 'Tactique', size: 50, color: '#ec4899', x: 100, y: 420},
            {text: 'Formation', size: 36, color: '#14b8a6', x: 520, y: 380},
            {text: 'Attaque', size: 46, color: '#f97316', x: 420, y: 100},
            {text: 'D√©fense', size: 44, color: '#06b6d4', x: 230, y: 180},
            {text: 'But', size: 64, color: '#d946ef', x: 480, y: 280},
            {text: 'Penalty', size: 40, color: '#34d399', x: 90, y: 150},
            {text: 'Arbitre', size: 38, color: '#c084fc', x: 350, y: 430},
            {text: 'Supporters', size: 44, color: '#4ade80', x: 520, y: 150},
            {text: 'Stade', size: 48, color: '#f43f5e', x: 140, y: 80},
            {text: 'Victoire', size: 56, color: '#0ea5e9', x: 380, y: 50},
            {text: 'Coupe', size: 42, color: '#a3e635', x: 280, y: 240},
            {text: 'Match', size: 40, color: '#2dd4bf', x: 160, y: 310},
            {text: '√âquipe', size: 38, color: '#fde047', x: 480, y: 420},
            {text: 'Championnat', size: 46, color: '#f59e0b', x: 60, y: 320, rotate: true},
            {text: 'Troph√©e', size: 36, color: '#06b6d4', x: 420, y: 360}
        ];

        const container = document.getElementById('wordCloudContainer');
        words.forEach(word => {
            const span = document.createElement('div');
            span.className = 'word';
            span.textContent = word.text;
            span.style.fontSize = word.size + 'px';
            span.style.color = word.color;
            span.style.left = word.x + 'px';
            span.style.top = word.y + 'px';
            
            if (word.rotate) {
                span.style.transform = 'rotate(-90deg)';
                span.style.transformOrigin = 'center';
            }
            
            span.title = `${word.text} (importance: ${word.size})`;
            container.appendChild(span);
        });

        // ===== 3. LEXICAL ANALYSIS =====
        const lexicalSpec = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "width": 600,
            "height": 500,
            "data": {
                "values": [
                    {"categorie": "Tactique & Strat√©gie", "frequence": 1245, "pourcentage": 18.5},
                    {"categorie": "Joueurs & Postes", "frequence": 1580, "pourcentage": 23.5},
                    {"categorie": "Comp√©titions", "frequence": 980, "pourcentage": 14.6},
                    {"categorie": "Actions de jeu", "frequence": 1120, "pourcentage": 16.7},
                    {"categorie": "R√©sultats & Scores", "frequence": 750, "pourcentage": 11.2},
                    {"categorie": "Infrastructure", "frequence": 620, "pourcentage": 9.2},
                    {"categorie": "Organisation", "frequence": 425, "pourcentage": 6.3}
                ]
            },
            "layer": [
                {
                    "mark": {
                        "type": "arc",
                        "innerRadius": 100,
                        "stroke": "#fff",
                        "strokeWidth": 3,
                        "padAngle": 0.03,
                        "cornerRadius": 5
                    },
                    "encoding": {
                        "theta": {
                            "field": "frequence",
                            "type": "quantitative",
                            "stack": true
                        },
                        "color": {
                            "field": "categorie",
                            "type": "nominal",
                            "scale": {
                                "domain": [
                                    "Tactique & Strat√©gie",
                                    "Joueurs & Postes",
                                    "Comp√©titions",
                                    "Actions de jeu",
                                    "R√©sultats & Scores",
                                    "Infrastructure",
                                    "Organisation"
                                ],
                                "range": ["#3b82f6", "#10b981", "#f59e0b", "#ef4444", "#8b5cf6", "#ec4899", "#14b8a6"]
                            },
                            "legend": {
                                "title": "Cat√©gories Lexicales",
                                "orient": "bottom",
                                "titleFontSize": 14,
                                "labelFontSize": 12,
                                "titleFontWeight": "bold"
                            }
                        },
                        "tooltip": [
                            {"field": "categorie", "type": "nominal", "title": "Cat√©gorie"},
                            {"field": "frequence", "type": "quantitative", "title": "Fr√©quence", "format": ","},
                            {"field": "pourcentage", "type": "quantitative", "title": "Pourcentage", "format": ".1f"}
                        ]
                    }
                },
                {
                    "mark": {
                        "type": "text",
                        "radius": 160,
                        "fontSize": 15,
                        "fontWeight": "bold",
                        "fill": "#1e293b"
                    },
                    "encoding": {
                        "text": {
                            "field": "pourcentage",
                            "type": "quantitative",
                            "format": ".1f"
                        },
                        "theta": {
                            "field": "frequence",
                            "type": "quantitative",
                            "stack": true
                        }
                    }
                }
            ]
        };

        // ===== 4. CLUBS GALLERY WITH SVG LOGOS =====
        const clubs = [
            {
                name: 'Ajax Amsterdam',
                country: 'Pays-Bas',
                year: 1900,
                colors: ['#D2122E', '#FFFFFF'],
                initials: 'AFC'
            },
            {
                name: 'SL Benfica',
                country: 'Portugal',
                year: 1904,
                colors: ['#E30613', '#FFFFFF'],
                initials: 'SLB'
            },
            {
                name: 'FC Barcelona',
                country: 'Espagne',
                year: 1899,
                colors: ['#A50044', '#004D98'],
                initials: 'FCB'
            },
            {
                name: 'Real Madrid',
                country: 'Espagne',
                year: 1902,
                colors: ['#FEBE10', '#FFFFFF'],
                initials: 'RMC'
            },
            {
                name: 'Bayern Munich',
                country: 'Allemagne',
                year: 1900,
                colors: ['#DC052D', '#0066B2'],
                initials: 'FCB'
            },
            {
                name: 'Juventus FC',
                country: 'Italie',
                year: 1897,
                colors: ['#000000', '#FFFFFF'],
                initials: 'JUV'
            }
        ];

        const gallery = document.getElementById('clubsGallery');
        
        clubs.forEach((club, index) => {
            const clubDiv = document.createElement('div');
            clubDiv.className = 'club-item';
            
            const logoContainer = document.createElement('div');
            logoContainer.className = 'club-logo-container';
            logoContainer.style.background = `linear-gradient(135deg, ${club.colors[0]} 0%, ${club.colors[1]} 100%)`;
            
            const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            svg.setAttribute('class', 'club-logo');
            svg.setAttribute('viewBox', '0 0 100 100');
            
            // Cercle de fond
            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            circle.setAttribute('cx', '50');
            circle.setAttribute('cy', '50');
            circle.setAttribute('r', '45');
            circle.setAttribute('fill', 'white');
            circle.setAttribute('opacity', '0.9');
            svg.appendChild(circle);
            
            // Texte avec initiales
            const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            text.setAttribute('x', '50');
            text.setAttribute('y', '60');
            text.setAttribute('text-anchor', 'middle');
            text.setAttribute('font-size', '24');
            text.setAttribute('font-weight', 'bold');
            text.setAttribute('fill', club.colors[0]);
            text.textContent = club.initials;
            svg.appendChild(text);
            
            // √âtoile au-dessus
            const star = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
            star.setAttribute('points', '50,15 53,25 63,25 55,31 58,41 50,35 42,41 45,31 37,25 47,25');
            star.setAttribute('fill', club.colors[1] === '#FFFFFF' ? club.colors[0] : club.colors[1]);
            svg.appendChild(star);
            
            logoContainer.appendChild(svg);
            
            const nameDiv = document.createElement('div');
            nameDiv.className = 'club-name';
            nameDiv.textContent = club.name;
            
            const infoDiv = document.createElement('div');
            infoDiv.className = 'club-info';
            infoDiv.textContent = `${club.country} ‚Ä¢ ${club.year}`;
            
            clubDiv.appendChild(logoContainer);
            clubDiv.appendChild(nameDiv);
            clubDiv.appendChild(infoDiv);
            
            gallery.appendChild(clubDiv);
        });

        // Embed les visualisations Vega-Lite
        vegaEmbed('#rawgraphsChart', rawgraphsSpec, embedOptions);
        vegaEmbed('#lexicalChart', lexicalSpec, embedOptions);

        console.log("‚úÖ Dashboard complet avec logos SVG g√©n√©r√©s !");
    </script>
</body>
</html>
