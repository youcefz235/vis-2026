<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Football Analytics Dashboard | VIS 2026</title>

<!-- Librairies -->
<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/d3-cloud@1.2.5/build/d3.layout.cloud.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
body{
    font-family:Inter,sans-serif;
    background:linear-gradient(135deg,#0f172a,#1e293b);
    color:white;
    padding:20px;
}
.container{max-width:1500px;margin:auto}
header{text-align:center;margin-bottom:40px}
h1{
    font-size:3rem;
    background:linear-gradient(135deg,#60a5fa,#a78bfa);
    -webkit-background-clip:text;
    color:transparent;
}
.subtitle{color:#94a3b8}

.dashboard-grid{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:25px;
}

.card{
    background:rgba(255,255,255,.05);
    border-radius:15px;
    padding:25px;
    border:1px solid rgba(255,255,255,.1);
}

.full-width{grid-column:1/-1}

.viz-container{
    background:white;
    border-radius:10px;
    padding:15px;
    min-height:500px;
}

#wordcloud{width:100%;height:500px}

.tooltip{
    position:absolute;
    background:black;
    color:white;
    padding:8px;
    border-radius:5px;
    opacity:0;
    pointer-events:none;
}
</style>
</head>

<body>
<div class="container">

<header>
    <h1>‚öΩ Football Analytics Dashboard</h1>
    <p class="subtitle">Visualisation interactive ‚Äì VIS 2026</p>
</header>

<div class="dashboard-grid">

<!-- RAWGraphs chart (inchang√©) -->
<div class="card full-width">
    <h2>üìä Distribution des joueurs par club</h2>
    <div class="viz-container" id="rawgraphsChart"></div>
</div>

<!-- Word Cloud -->
<div class="card">
    <h2>‚òÅÔ∏è Nuage de mots interactif</h2>
    <div class="viz-container">
        <svg id="wordcloud"></svg>
        <div class="tooltip" id="tooltip1"></div>
    </div>
</div>

<!-- Champ lexical -->
<div class="card">
    <h2>üìà Champ lexical du football</h2>
    <div class="viz-container" id="lexicalChart"></div>
</div>

</div>
</div>

<script>
/* ================= RAWGRAPHS (identique) ================= */

const rawgraphsSpec = {
"$schema":"https://vega.github.io/schema/vega-lite/v5.json",
"width":1400,
"height":450,
"data":{"values":[
{"club":"AC Milan","joueurs":1200,"categorie":"Elite"},
{"club":"Ajax","joueurs":2100,"categorie":"Elite"},
{"club":"Barcelona","joueurs":1350,"categorie":"Elite"},
{"club":"Real Madrid","joueurs":2050,"categorie":"Elite"},
{"club":"Paris SG","joueurs":1000,"categorie":"Special"}
]},
"mark":{"type":"bar","cornerRadiusEnd":5},
"encoding":{
"x":{"field":"club","type":"nominal","axis":{"labelAngle":-30}},
"y":{"field":"joueurs","type":"quantitative","title":"Nombre de joueurs"},
"color":{"field":"categorie","type":"nominal"},
"tooltip":[
{"field":"club","type":"nominal"},
{"field":"joueurs","type":"quantitative"},
{"field":"categorie","type":"nominal"}
]
}
};

vegaEmbed("#rawgraphsChart",rawgraphsSpec,{actions:false});

/* ================= WORD CLOUD ================= */

const words = [
{text:"But",size:90,category:"Score",freq:800},
{text:"Football",size:80,category:"Sport",freq:760},
{text:"Passe",size:55,category:"Action",freq:450},
{text:"Penalty",size:60,category:"Action",freq:500},
{text:"Carton",size:50,category:"R√®gle",freq:400},
{text:"Arbitre",size:52,category:"Personnel",freq:420},
{text:"Victoire",size:70,category:"R√©sultat",freq:650},
{text:"D√©fense",size:65,category:"Tactique",freq:600},
{text:"Attaque",size:68,category:"Tactique",freq:620},
{text:"Stade",size:58,category:"Infrastructure",freq:480},
{text:"Supporters",size:62,category:"Public",freq:520},
{text:"Transfert",size:54,category:"March√©",freq:460},
{text:"Champions League",size:75,category:"Comp√©tition",freq:700}
];

const width=600,height=450;
const color=d3.scaleOrdinal(d3.schemeSet3);

const layout=d3.layout.cloud()
.size([width,height])
.words(words)
.padding(5)
.rotate(()=>0)
.font("Inter")
.fontSize(d=>d.size)
.on("end",draw);

layout.start();

function draw(words){
const tooltip=d3.select("#tooltip1");

const svg=d3.select("#wordcloud")
.attr("width",width)
.attr("height",height)
.append("g")
.attr("transform","translate("+width/2+","+height/2+")");

svg.selectAll("text")
.data(words)
.enter()
.append("text")
.style("font-size",d=>d.size+"px")
.style("fill",d=>color(d.category))
.style("font-weight","700")
.attr("text-anchor","middle")
.attr("transform",d=>"translate("+d.x+","+d.y+")")
.text(d=>d.text)
.on("mouseover",(e,d)=>{
tooltip.style("opacity",1)
.html(`<b>${d.text}</b><br>Cat√©gorie: ${d.category}<br>Fr√©quence: ${d.freq}`)
.style("left",e.pageX+10+"px")
.style("top",e.pageY-20+"px");
})
.on("mouseout",()=>tooltip.style("opacity",0));
}

/* ================= CHAMP LEXICAL ================= */

const lexicalSpec={
"$schema":"https://vega.github.io/schema/vega-lite/v5.json",
"width":500,
"height":400,
"data":{
"values":[
{"categorie":"Tactique","frequence":1245},
{"categorie":"Joueurs","frequence":1580},
{"categorie":"Comp√©titions","frequence":980},
{"categorie":"Actions","frequence":1120},
{"categorie":"R√©sultats","frequence":750},
{"categorie":"Infrastructure","frequence":620},
{"categorie":"Organisation","frequence":425}
]},
"mark":{"type":"bar","cornerRadiusEnd":5},
"encoding":{
"x":{"field":"categorie","type":"nominal","axis":{"labelAngle":-30}},
"y":{"field":"frequence","type":"quantitative","title":"Fr√©quence"},
"color":{"field":"categorie","type":"nominal","legend":null},
"tooltip":[
{"field":"categorie","type":"nominal"},
{"field":"frequence","type":"quantitative"}
]
}
};

vegaEmbed("#lexicalChart",lexicalSpec,{actions:false});
</script>
</body>
</html>
